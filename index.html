<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Meu Treino</title>

<link rel="manifest" href="data:application/json,{
  &quot;name&quot;:&quot;Meu Treino&quot;,
  &quot;short_name&quot;:&quot;Treino&quot;,
  &quot;start_url&quot;:&quot;.&quot;,
  &quot;display&quot;:&quot;standalone&quot;,
  &quot;background_color&quot;:&quot;#0f172a&quot;,
  &quot;theme_color&quot;:&quot;#0f172a&quot;
}">

<style>
body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, Arial;
  background: #0f172a;
  color: #f1f5f9;
}
.container { padding: 16px; max-width: 900px; margin: auto; }
h1 { text-align: center; color: #38bdf8; }
h2 { color: #facc15; }

.treino, .dashboard {
  background: #1e293b;
  padding: 16px;
  border-radius: 16px;
  margin-bottom: 20px;
}

.card {
  background: #0f172a;
  padding: 12px;
  border-radius: 12px;
  margin: 12px 0;
}

iframe {
  width: 100%;
  aspect-ratio: 16/9;
  border-radius: 12px;
}

input {
  width: 48%;
  padding: 8px;
  border-radius: 8px;
  border: none;
  margin: 4px 1%;
}

button {
  width: 100%;
  padding: 10px;
  background: #22c55e;
  border: none;
  border-radius: 10px;
  margin-top: 8px;
  font-weight: bold;
}

.timer {
  text-align: center;
  font-size: 24px;
  margin-top: 10px;
}
</style>
</head>

<body>
<div class="container">
<h1>üèãÔ∏è Meu Treino</h1>

<div class="dashboard" id="dashboard"></div>
<div id="treinos"></div>

<script>
const treinos = {
  "Segunda ‚Äî Ombro + Costas + B√≠ceps": [
    ["Puxada na Frente","CAwf7n6Luuc"],
    ["Remada Curvada","GZbfZ033f74"],
    ["Rosca Direta","kwG2ipFRgfo"]
  ],
  "Quarta ‚Äî Peito + Tr√≠ceps": [
    ["Supino Reto","rT7DgCr-3pg"],
    ["Tr√≠ceps Corda","vB5OHsJ3EME"]
  ],
  "Sexta ‚Äî Pernas": [
    ["Agachamento Livre","SW_C1A-rejs"],
    ["Leg Press","IZxyjW7MPJQ"]
  ]
};

let dataHoje = new Date().toISOString().split("T")[0];
let historico = JSON.parse(localStorage.getItem("historico") || "{}");

function salvar(nome, serie, carga) {
  if (!historico[dataHoje]) historico[dataHoje] = [];
  historico[dataHoje].push({ nome, serie, carga });
  localStorage.setItem("historico", JSON.stringify(historico));
  render();
}

function render() {
  let total = 0;
  document.getElementById("treinos").innerHTML = "";

  for (let [dia, exs] of Object.entries(treinos)) {
    let bloco = `<div class="treino"><h2>${dia}</h2>`;
    exs.forEach(([nome, vid]) => {
      bloco += `
      <div class="card">
        <h3>${nome}</h3>
        <iframe src="https://www.youtube.com/embed/${vid}" allowfullscreen></iframe>
        <input placeholder="S√©ries" id="s-${nome}">
        <input placeholder="Carga (kg)" id="c-${nome}">
        <button onclick="salvar('${nome}',document.getElementById('s-${nome}').value,document.getElementById('c-${nome}').value)">
          ‚úî Registrar
        </button>
      </div>`;
    });
    bloco += `</div>`;
    document.getElementById("treinos").innerHTML += bloco;
  }

  let dias = Object.keys(historico).length;
  let totalRegs = Object.values(historico).flat().length;

  document.getElementById("dashboard").innerHTML = `
    <h2>üìä Dashboard</h2>
    <p>Dias treinados: ${dias}</p>
    <p>Exerc√≠cios registrados: ${totalRegs}</p>
  `;
}

render();
</script>
</body>
</html>
